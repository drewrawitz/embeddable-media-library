!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ImagekitMediaLibraryWidget=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=[],i=[];return function(e,n){if(e&&"undefined"!=typeof document){var o,a=!0===n.prepend?"prepend":"append",d=!0===n.singleTag,r="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(d){var s=t.indexOf(r);-1===s&&(s=t.push(r)-1,i[s]={}),o=i[s]&&i[s][a]?i[s][a]:i[s][a]=l()}else o=l();65279===e.charCodeAt(0)&&(e=e.substring(1)),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(document.createTextNode(e))}function l(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),n.attributes)for(var t=Object.keys(n.attributes),i=0;i<t.length;i++)e.setAttribute(t[i],n.attributes[t[i]]);var o="prepend"===a?"afterbegin":"beforeend";return r.insertAdjacentElement(o,e),e}}("/* The Modal (background) */\n.ik-media-library-widget-modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  padding-top: 2%; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n}\n\n/* Modal Content */\n.ik-media-library-widget-modal-content {\n  background-color: #fefefe;\n  margin: auto;\n  /* padding: 5px; */\n  border: 1px solid #888;\n  width: 96%;\n  height: 94%;\n}\n",{}),function(){var t,i,n,o,a="https://eml.imagekit.io",d="".concat(a,"/media-library-widget?redirectTo=media-library-widget&isMediaLibraryWidget=true"),r="modal",s=function(){this.security=null,this.widgetHost=window.location.href;var i={className:"",container:"",containerDimensions:{height:"100%",width:"100%"},dimensions:{height:"100%",width:"100%"},style:{border:"none"},view:"modal",renderOpenButton:!0};arguments[0]&&"object"===e(arguments[0])&&(this.options=Object.assign({},i,arguments[0])),arguments[1]&&"function"==typeof arguments[1]&&(this.callback=arguments[1],t=this.callback),r=this.options.view,this.init()};function l(){var e,t,a;e="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container,t=document.createDocumentFragment(),this.ikFrame=document.createElement("div"),this.ikFrame.className=this.options.className,this.ikFrame.style.height=this.options.containerDimensions.height,this.ikFrame.style.width=this.options.containerDimensions.width,this.ikFrame.callback=this.callback,(a=document.createElement("iframe")).title="ImageKit Embedded Media Library",a.src="".concat(d,"&widgetHost=").concat(this.widgetHost),a.sandbox="allow-top-navigation allow-same-origin allow-scripts allow-forms allow-modals allow-popups",a.height=this.options.dimensions.height,a.width=this.options.dimensions.width,a.style.border=this.options.style.border,this.ikFrame.appendChild(a),"modal"!==this.options.view.toLowerCase()?(t.appendChild(this.ikFrame),e.appendChild(t)):(this.options.renderOpenButton&&((i=document.createElement("button")).innerHTML="Open Media Library",i.onclick=function(){n.style.display="block"}),n=document.createElement("div"),o=document.createElement("div"),n.classList.add("ik-media-library-widget-modal"),o.classList.add("ik-media-library-widget-modal-content"),o.appendChild(this.ikFrame),n.appendChild(o),this.options.renderOpenButton&&t.appendChild(i),t.appendChild(n),e.appendChild(t))}function c(){"modal"===r.toLowerCase()&&(n.style.display="none")}return s.prototype.init=function(){l.call(this)},window.onclick=function(e){e.target==n&&c()},window.addEventListener("message",(function(e){e.origin===a&&("CLOSE_MEDIA_LIBRARY_WIDGET"!==e.data.eventType&&"INSERT"!==e.data.eventType||(t(e.data),c()))})),window.IKMediaLibraryWidget=s}()}));
//# sourceMappingURL=imagekit-media-library-widget.min.js.map
